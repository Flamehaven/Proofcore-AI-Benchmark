import{a as t,j as i}from"./emotion-react-jsx-runtime.browser.esm-DUalPLDp.js";import{r as f}from"./iframe-DQvuGjGf.js";import{u as R}from"./QueryClientProvider-DLQgYWZ8.js";import{c as d}from"./emotion-styled-base.browser.esm-eB_B6Qx9.js";import{d as g,e as m}from"./FormField-DSX-Q71F.js";import"./jsx-runtime-CZm_iTvF.js";import"./preload-helper-C1FmrZbK.js";import"./index-Cn6OJE8e.js";const L=d("div",{target:"e1h3bka11"})({name:"1c2nyep",styles:"padding:16px;border:1px solid #ddd;border-radius:8px;margin-top:16px"}),D=d("div",{target:"e1h3bka10"})(({pass:n})=>({padding:"12px",marginBottom:"12px",borderLeft:`4px solid ${n?"#28a745":"#dc3545"}`,backgroundColor:"#f9f9f9"}),"");function x({results:n}){return t(L,{children:[i("h3",{children:"Step Results"}),n.map(e=>t(D,{pass:e.pass,children:[t("div",{children:[t("strong",{children:["Step ",e.stepId]}),": ",e.pass?"PASS":"FAIL"]}),t("div",{children:["LII: ",e.lii," [",e.lci[0],"-",e.lci[1],"]"]}),t("div",{children:["Coherence: ",e.consensus.coherence]}),t("div",{children:["Symbolic: ",e.symbolic.valid?"Valid":"Invalid"]})]},e.stepId))]})}x.__docgenInfo={description:"",methods:[],displayName:"StepResultsPanel",props:{results:{required:!0,tsType:{name:"Array",elements:[{name:"HybridStepResult"}],raw:"HybridStepResult[]"},description:""}}};const M=d("div",{target:"efovkrx1"})(({theme:n})=>({padding:n.tokens.token.spacing.md,backgroundColor:n.tokens.token.color.background.primary.subtle[n.mode],borderRadius:n.tokens.token.borderRadius.lg,marginTop:n.tokens.token.spacing.md}),""),P=d("div",{target:"efovkrx0"})(({theme:n,type:e})=>{const r=()=>{switch(e){case"error":return n.tokens.token.color.status.error[n.mode];case"warning":return n.tokens.token.color.status.warning[n.mode];case"success":return n.tokens.token.color.status.success[n.mode];default:return n.tokens.token.color.status.info[n.mode]}};return{padding:n.tokens.token.spacing.md,marginBottom:n.tokens.token.spacing.sm,borderRadius:n.tokens.token.borderRadius.md,backgroundColor:n.tokens.token.color.background.primary.subtle[n.mode],color:r(),border:"1px solid",borderColor:r()}},"");function w({messages:n}){return t(M,{children:[i("h3",{children:"Feedback"}),n.map((e,r)=>t(P,{type:e.type,children:[i("strong",{children:e.summary}),e.suggestions&&e.suggestions.length>0&&i("ul",{children:e.suggestions.map((s,o)=>i("li",{children:s},o))})]},r))]})}w.__docgenInfo={description:"",methods:[],displayName:"FeedbackPanel",props:{messages:{required:!0,tsType:{name:"Array",elements:[{name:"FeedbackMessage"}],raw:"FeedbackMessage[]"},description:""}}};const A=d("div",{target:"e1ehb30w0"})({name:"1sk4c93",styles:"padding:16px;border:1px solid #ddd;border-radius:8px;background-color:#fff"});function I({graph:n}){return t(A,{children:[i("h3",{children:"Justification Graph"}),t("div",{children:["Nodes: ",n.nodes.length]}),t("div",{children:["Max Depth: ",n.depth]}),t("div",{children:["Has Cycle: ",n.hasCycle?"Yes (Invalid!)":"No"]}),i("ul",{children:n.nodes.map(e=>t("li",{children:[e.id," → [",e.dependencies.join(", "),"]"]},e.id))})]})}I.__docgenInfo={description:"",methods:[],displayName:"JustificationView",props:{graph:{required:!0,tsType:{name:"JustificationGraph"},description:""}}};class _{buildGraph(e){const r=this._detectCycle(e),s=this._computeMaxDepth(e);return{nodes:e,hasCycle:r,depth:s}}_detectCycle(e){const r=new Set,s=new Set,o=this._buildAdjacencyList(e),l=a=>{r.add(a),s.add(a);const u=o.get(a)||[];for(const p of u)if(r.has(p)){if(s.has(p))return!0}else if(l(p))return!0;return s.delete(a),!1};for(const a of e)if(!r.has(a.id)&&l(a.id))return!0;return!1}_computeMaxDepth(e){const r=this._buildAdjacencyList(e),s=new Map,o=a=>{if(s.has(a))return s.get(a);const u=r.get(a)||[];if(u.length===0)return s.set(a,1),1;const b=Math.max(...u.map(S=>o(S)))+1;return s.set(a,b),b};let l=0;for(const a of e)l=Math.max(l,o(a.id));return l}_buildAdjacencyList(e){const r=new Map;for(const s of e)r.set(s.id,s.dependencies);return r}}class j{generate(e,r,s,o=[]){return r&&s>=80?{type:"success",stepId:e,summary:`Step ${e}: Valid algebraic transformation with high semantic coherence`,suggestions:[]}:r?s<70?{type:"warning",stepId:e,summary:`Step ${e}: Low semantic coherence detected`,suggestions:["Add justification for logical leap","Clarify reasoning steps","Provide intermediate calculations"]}:{type:"info",stepId:e,summary:`Step ${e}: Acceptable but could be improved`,suggestions:["Consider adding more detail","Strengthen logical connections"]}:{type:"error",stepId:e,summary:`Step ${e}: Symbolic verification failed`,suggestions:["Check algebraic manipulation for errors","Verify variable substitutions","Ensure proper use of mathematical properties"]}}generateProofSummary(e,r,s){const o=r>0?e/r*100:0;return o===100&&s>=90?{type:"success",stepId:"summary",summary:`Proof complete: All ${r} steps validated (LII: ${s})`,suggestions:[]}:o>=80?{type:"warning",stepId:"summary",summary:`Proof mostly valid: ${e}/${r} steps passed (LII: ${s})`,suggestions:["Review failed steps for corrections"]}:{type:"error",stepId:"summary",summary:`Proof incomplete: Only ${e}/${r} steps validated (LII: ${s})`,suggestions:["Significant revisions needed","Review symbolic and semantic errors","Consider restructuring proof approach"]}}}const $=new _,N=new j,c=[{stepId:"A1",symbolic:{valid:!0,diagnostics:"algebra"},consensus:{results:[{model:"atlas-1",score:84,rationale:"Consistent reasoning"},{model:"orion-2",score:80,rationale:"Aligns with theorem usage"}],mean:82,variance:20,coherence:90},lii:86,lci:[78,92],pass:!0},{stepId:"A2",symbolic:{valid:!1,difference:"x - y^2",diagnostics:"algebra"},consensus:{results:[{model:"atlas-1",score:62,rationale:"Missing justification"},{model:"orion-2",score:58,rationale:"Inconsistent transition"}],mean:60,variance:25,coherence:72},lii:59,lci:[48,70],pass:!1}],T=d("div",{target:"euoqw253"})(({theme:n})=>({display:"grid",gap:n.tokens.token.spacing.lg}),""),q=d("div",{target:"euoqw252"})(({theme:n})=>({display:"grid",gap:n.tokens.token.spacing.lg,gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"}),""),H=d("div",{target:"euoqw251"})(({theme:n})=>({display:"grid",gap:n.tokens.token.spacing.lg,gridTemplateColumns:"2fr 1fr","@media (max-width: 1200px)":{gridTemplateColumns:"1fr"}}),""),G=d("div",{target:"euoqw250"})(({theme:n})=>({display:"grid",gap:n.tokens.token.spacing.lg}),"");function y(){const n=f.useMemo(()=>$.buildGraph([{id:"Input",dependencies:[]},{id:"Symbolic",dependencies:["Input"]},{id:"Semantic",dependencies:["Input"]},{id:"Hybrid",dependencies:["Symbolic","Semantic"]}]),[]),e=f.useMemo(()=>c.map(s=>N.generate(s.stepId,s.symbolic.valid,s.consensus.coherence,[])),[]),r=f.useMemo(()=>{const s=c.reduce((a,u)=>a+u.lii,0)/(c.length||1),o=c.reduce((a,u)=>a+u.consensus.coherence,0)/(c.length||1),l=c.filter(a=>a.pass).length;return{aggregateLii:Math.round(s),aggregateCoherence:Math.round(o),passRate:c.length?Math.round(l/c.length*100):0}},[]);return t(T,{children:[t("header",{children:[i("h1",{children:"Hybrid Reasoning Dashboard"}),i("p",{children:"Monitor proof validation metrics, justification graphs, and feedback in real-time."})]}),t(q,{children:[i(m,{variant:"kpi",children:t(g,{children:[i("p",{children:"Aggregate LII"}),i("h2",{children:r.aggregateLii})]})}),i(m,{variant:"kpi",children:t(g,{children:[i("p",{children:"Mean Coherence"}),i("h2",{children:r.aggregateCoherence})]})}),i(m,{variant:"kpi",children:t(g,{children:[i("p",{children:"Pass Rate"}),t("h2",{children:[r.passRate,"%"]})]})})]}),t(H,{children:[t("div",{children:[i(x,{results:c}),i(w,{messages:e})]}),t(G,{children:[i(I,{graph:n}),i(m,{variant:"default",children:t(g,{children:[i("h3",{children:"Run Log"}),t("ul",{children:[i("li",{children:"2025-10-10 21:20 — LII 86 — Pass"}),i("li",{children:"2025-10-10 20:55 — LII 59 — Needs Review"}),i("li",{children:"2025-10-10 20:15 — LII 92 — Pass"})]})]})})]})]})]})}y.__docgenInfo={description:"",methods:[],displayName:"HybridDashboardPage"};const X={title:"Pages/HybridDashboard",component:y,tags:["autodocs"]},F=["runs",{limit:5}],J=["run","RUN-001"],V={runs:[{id:"RUN-001",timestamp:"2025-10-10T21:20:00Z",status:"completed",lii:86,duration:35e3},{id:"RUN-000",timestamp:"2025-10-10T20:55:00Z",status:"failed",lii:59,duration:42e3}],total:2},E={id:"RUN-001",status:"completed",timestamp:"2025-10-10T21:20:00Z",duration:35e3,result:{valid:!0,lii:86,lci:[78,92],steps:[{stepId:"A1",symbolic:{valid:!0,diagnostics:"algebra"},consensus:{results:[{model:"atlas-1",score:84,rationale:"Consistent reasoning"},{model:"orion-2",score:80,rationale:"Aligns with theorem usage"}],mean:82,variance:20,coherence:90},lii:86,lci:[78,92],pass:!0},{stepId:"A2",symbolic:{valid:!1,difference:"x - y^2",diagnostics:"algebra"},consensus:{results:[{model:"atlas-1",score:62,rationale:"Missing justification"},{model:"orion-2",score:58,rationale:"Inconsistent transition"}],mean:60,variance:25,coherence:72},lii:59,lci:[48,70],pass:!1}],graphData:{nodes:[{id:"Input",dependencies:[]},{id:"Symbolic",dependencies:["Input"]},{id:"Semantic",dependencies:["Input"]},{id:"Hybrid",dependencies:["Symbolic","Semantic"]}],hasCycle:!1,depth:3},feedback:[{type:"warning",stepId:"A2",summary:"Semantic coherence warning.",suggestions:["Provide justification for base angle equality."]}]}},U=()=>{const n=R();return f.useEffect(()=>{n.setQueryData(F,V),n.setQueryData(J,E)},[n]),i(y,{})},h={render:()=>i(U,{})};var k,v,C;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => <DashboardWithData />
}`,...(C=(v=h.parameters)==null?void 0:v.docs)==null?void 0:C.source}}};const ee=["Default"];export{h as Default,ee as __namedExportsOrder,X as default};
